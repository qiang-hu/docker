Build
	docker build -t nginx:1.12 .
	docker build -t php:7.1 .

Run
	创建虚拟主机文件vhosts.conf
        server {
                listen 80;
                server_name localhost;
                index index.html index.php;
                root /var/web/www;
                access_log /var/log/nginx/access.log;
                error_log /var/log/nginx/error.log;

                location ~.*\.(html|png|jpg|bmp|jpeg|swf|gif|pdf)$
                {
                        root /var/web/www;
                        expires    7d;
                        access_log off;
                        log_not_found off;
                }
                location ~.*\.(js|css)$
                {
                        root /var/web/www;
                        expires    3h;
                        access_log off;
                        log_not_found off;
                }
                if ($http_user_agent ~* (Scrapy|Wget|ApacheBench|WebBench|Python-urllib|nmap|w3af|Apache-HttpClient|HttpClient|Java|^$)) {
                        return 403;
                }

                location ~ \.php(/|$){
                        root /var/web/www;
                        fastcgi_pass   127.0.0.1:9000;
                        fastcgi_split_path_info ^(.+?\.php)(.*)$;
                        fastcgi_param PATH_INFO $fastcgi_path_info;
                        include        fastcgi.conf;
                }
        }

	docker run -d -p 80:80 --name web01 -v vhosts.conf:/usr/local/openresty/nginx/conf/vhosts/vhosts.conf nginx:1.12
	docker run -d -p 9000:9000 --name php01 php:7.1
